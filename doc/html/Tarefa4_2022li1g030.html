<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa4_2022li1g030</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Ana S&#225; Oliveira &lt;a104437@alunos.uminho.pt&gt;<br />Sara Campos Ramalho &lt;a72481@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa4_2022li1g030</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Fun&#231;&#227;o jogoTerminou</a><ul><li><a href="#g:2">Fun&#231;&#227;o principal</a></li><li><a href="#g:3">Fun&#231;&#245;es auxiliares</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 4 do projeto de LI1 em 2022/23.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:jogoTerminou">jogoTerminou</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Bool</li><li class="src short"><a href="#v:jogadorPosicao">jogadorPosicao</a> :: <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>)</li><li class="src short"><a href="#v:calculaObstaculo">calculaObstaculo</a> :: Int -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>)</li><li class="src short"><a href="#v:verificaPosicao">verificaPosicao</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) -&gt; Bool</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#227;o jogoTerminou</h1></a><a href="#g:2" id="g:2"><h2>Fun&#231;&#227;o principal</h2></a><div class="top"><p class="src"><a id="v:jogoTerminou" class="def">jogoTerminou</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Bool <a href="#v:jogoTerminou" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g030.html#v:jogoTerminou" title="Tarefa4_2022li1g030">jogoTerminou</a></code> verifica se a posi&#231;&#227;o do jogador est&#225; fora do mapa ou se &#233; coincidente com a posi&#231;&#227;o de um obst&#225;culo <code>Carro</code>, fazendo assim com que o jogo termine.</p><p>O jogo termina se:</p><ul><li>o jogador (com coordenadas <code>(x,y)</code>) estiver fora do mapa, quer pelo limite esquerdo (<code>x &lt; 0</code>), pelo limite direito (<code>x &gt;= a</code>, sendo <code>a</code> a largura do mapa),
 pelo limite superior (<code>y &lt; 0</code>) ou pelo limite inferior (<code>y &gt;= length l</code>, sendo <code>l</code> a lista que compreende todas as linhas constituintes do mapa).</li><li>a posi&#231;&#227;o do jogador coincidir com a posi&#231;&#227;o de um obst&#225;culo <code>Nenhum</code> numa linha de terreno <code>Rio _</code> ou com um obst&#225;culo <code>Carro</code> numa linha de terreno <code>Estrada _</code>.</li></ul><p>Pode ser definida da seguinte forma: </p><pre>jogoTerminou (Jogo (Jogador (x,y)) (Mapa a l)) = x <a href="0">|| x</a>= a || y <a href="0">|| y</a>= length l || verificaPosicao (jogadorPosicao (x,y) (Mapa a l))
</pre><p>Para auxiliar, iremos usar as fun&#231;&#245;es <code><a href="Tarefa4_2022li1g030.html#v:calculaObstaculo" title="Tarefa4_2022li1g030">calculaObstaculo</a></code>, <code><a href="Tarefa4_2022li1g030.html#v:jogadorPosicao" title="Tarefa4_2022li1g030">jogadorPosicao</a></code> e <code><a href="Tarefa4_2022li1g030.html#v:verificaPosicao" title="Tarefa4_2022li1g030">verificaPosicao</a></code>.</p></div></div><a href="#g:3" id="g:3"><h2>Fun&#231;&#245;es auxiliares</h2></a><div class="top"><p class="src"><a id="v:jogadorPosicao" class="def">jogadorPosicao</a> :: <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) <a href="#v:jogadorPosicao" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g030.html#v:jogadorPosicao" title="Tarefa4_2022li1g030">jogadorPosicao</a></code> vai fornecer &#224; fun&#231;&#227;o <code><a href="Tarefa4_2022li1g030.html#v:calculaObstaculo" title="Tarefa4_2022li1g030">calculaObstaculo</a></code> a linha com o par <code>(Terreno, [Obstaculo])</code> em que o jogador se encontra a partir da coordenada <code>y</code>.
Juntamente com a fun&#231;&#227;o <code><a href="Tarefa4_2022li1g030.html#v:calculaObstaculo" title="Tarefa4_2022li1g030">calculaObstaculo</a></code> ir&#225; calcular que obst&#225;culo se encontra na posi&#231;&#227;o do jogador.  </p><p>Define-se como:</p><pre>jogadorPosicao (x,y) (Mapa a l) = calculaObstaculo x (l !! y)
</pre></div></div><div class="top"><p class="src"><a id="v:calculaObstaculo" class="def">calculaObstaculo</a> :: Int -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) <a href="#v:calculaObstaculo" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o auxiliar <code><a href="Tarefa4_2022li1g030.html#v:calculaObstaculo" title="Tarefa4_2022li1g030">calculaObstaculo</a></code> recebe a coordenada <code>x</code> do jogador e o par (Terreno, [Obstaculo] correspondente &#224; linha em que o jogador se encontra, dados na fun&#231;&#227;o <code><a href="Tarefa4_2022li1g030.html#v:jogadorPosicao" title="Tarefa4_2022li1g030">jogadorPosicao</a></code>.
A partir disso, calcula um par indicativo do terreno e do obst&#225;culo existentes na posi&#231;&#227;o atual do jogador.</p><p>Esta fun&#231;&#227;o define-se como: </p><pre>calculaObstaculo x (b,c) = (b,(c !! x))
</pre></div></div><div class="top"><p class="src"><a id="v:verificaPosicao" class="def">verificaPosicao</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) -&gt; Bool <a href="#v:verificaPosicao" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g030.html#v:verificaPosicao" title="Tarefa4_2022li1g030">verificaPosicao</a></code> indica com que pbst&#225;culos deve coincidir a posi&#231;&#227;o do jogador para que o jogo termine.
Isto &#233;, no obst&#225;culo <code>Nenhum</code> se se tratar de um terreno <code>Rio_</code>, ou no obst&#225;culo <code>Carro</code> caso esteja num terreno <code>Estrada _</code>.</p><pre>verificaPosicao (b,d) = case b of
                          Rio _ -&gt; d == Nenhum
                          Estrada _ -&gt; d == Carro 
                          Relva -&gt; False
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>